[{"/Users/K.Z./Desktop/holiday2020/src/pages/landing.js":"1","/Users/K.Z./Desktop/holiday2020/src/App.js":"2","/Users/K.Z./Desktop/holiday2020/src/components/letter.js":"3","/Users/K.Z./Desktop/holiday2020/src/pages/write.js":"4","/Users/K.Z./Desktop/holiday2020/src/pages/demo.js":"5","/Users/K.Z./Desktop/holiday2020/src/pages/open.js":"6","/Users/K.Z./Desktop/holiday2020/src/redux/masterReducer.js":"7","/Users/K.Z./Desktop/holiday2020/src/components/footer.js":"8","/Users/K.Z./Desktop/holiday2020/src/components/papercard.js":"9"},{"size":5654,"mtime":1611483305300,"results":"10","hashOfConfig":"11"},{"size":1815,"mtime":1611476771436,"results":"12","hashOfConfig":"11"},{"size":6273,"mtime":1611491151575,"results":"13","hashOfConfig":"11"},{"size":7394,"mtime":1611483205517,"results":"14","hashOfConfig":"11"},{"size":1780,"mtime":1607662214784,"results":"15","hashOfConfig":"11"},{"size":2306,"mtime":1608652755985,"results":"16","hashOfConfig":"11"},{"size":632,"mtime":1611477259646,"results":"17","hashOfConfig":"11"},{"size":169,"mtime":1611483327190,"results":"18","hashOfConfig":"11"},{"size":877,"mtime":1611491271642,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"1b30y0l",{"filePath":"22","messages":"23","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"24","messages":"25","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"26"},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/K.Z./Desktop/holiday2020/src/pages/landing.js",["39","40","41"],"/Users/K.Z./Desktop/holiday2020/src/App.js",["42"],"/Users/K.Z./Desktop/holiday2020/src/components/letter.js",["43"],"import React, { useState, useEffect, useRef } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport \"../styles/color.css\";\nimport \"../styles/layout.css\";\nimport \"../styles/typography.css\";\nimport \"../styles/animation.css\";\nimport styles from \"./letter.module.css\";\n\nimport PaperCard from \"../components/papercard\";\nimport ReactAudioPlayer from \"react-audio-player\";\nimport BlurredObject from \"../assets/blurredObject.png\";\nimport { createCard } from \"../util/api\";\nimport { sendAmplitudeData } from \"../util/amplitude\";\nimport CanvasDraw from \"react-canvas-draw\";\nimport canvas_styles from \"../pages/write.module.css\";\nimport { SET_VAL } from \"../redux/masterReducer\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nconst Letter = ({ letterContent, sent = 0, setIsPreview = null }) => {\n  let history = useHistory();\n  const dispatch = useDispatch();\n  const stateVal = useSelector((state) => state.state);\n\n  const drawing_ref = useRef(null);\n  const [width, setWidth] = useState(-1);\n  const ref = useRef(null);\n\n  const sendLetter = async () => {\n    let createdCard = await createCard(\n      letterContent.author,\n      letterContent.recipient,\n      letterContent.email,\n      letterContent.message,\n      letterContent.audioFile,\n      letterContent.sticker,\n      letterContent.drawing,\n      letterContent.netId\n    );\n\n    if (JSON.parse(localStorage.getItem(\"sent\")) === 0) {\n      sendAmplitudeData(\"Unlocked\");\n    }\n    localStorage.setItem(\"sent\", 1);\n    sendAmplitudeData(\"Sent letter\");\n    history.push(\"/done\");\n  };\n\n  useEffect(() => {\n    if (drawing_ref && drawing_ref.current && letterContent.drawing) {\n      drawing_ref.current.loadSaveData(letterContent.drawing);\n    }\n    if (ref.current) {\n      setWidth(ref.current.offsetWidth);\n    }\n  }, [letterContent]);\n\n  const randNum = (a, b) => {\n    return Math.random() * (b - a) + a;\n  };\n\n  const frames = [\n    \"https://images.unsplash.com/photo-1507525428034-b723cf961d3e?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80\",\n    \"https://i2.wp.com/digital-photography-school.com/wp-content/uploads/2019/05/joseph-barrientos-49318-unsplash-e1558728034701.jpg?resize=1500%2C1000&ssl=1\",\n  ];\n\n  if (!letterContent) return <div />;\n  return (\n    <div className=\"paperCardContainer\">\n      <div className=\"paperCard\">\n        <div className=\"h2\">Pick a frame</div>\n        {setIsPreview && (\n          <div className=\"frame-container-box\">\n            {frames.map((frame) => {\n              return (\n                <div onClick={() => dispatch(SET_VAL(\"frame\", frame))}>\n                  <img src={frame} className=\"frame-container\" alt={frame} />\n                </div>\n              );\n            })}\n          </div>\n        )}\n      </div>\n      <PaperCard ref={ref} frameImage={stateVal.frame}>\n        <div>\n          {setIsPreview && (\n            <React.Fragment>\n              <div className=\"link\">\n                <span\n                  className=\"navigation body\"\n                  onClick={() => {\n                    setIsPreview(false);\n                  }}\n                >\n                  ← Back\n                </span>\n              </div>\n              <hr />\n              <br />\n            </React.Fragment>\n          )}\n          <div className=\"body textMain\">\n            Dear {letterContent.recipient.split(\" \")[0]},\n          </div>\n          <br />\n          {sent === 1 || setIsPreview ? (\n            <React.Fragment>\n              <div className=\"body textMain\">{letterContent.message}</div>\n              {letterContent.drawing &&\n                JSON.parse(letterContent.drawing).lines.length > 0 && (\n                  <CanvasDraw\n                    ref={drawing_ref}\n                    lazyRadius={0}\n                    brushRadius={5}\n                    hideGrid={true}\n                    canvasWidth={\"100%\"}\n                    canvasHeight={200}\n                    className={canvas_styles.canvas}\n                    disabled={true}\n                  />\n                )}\n            </React.Fragment>\n          ) : (\n            <img src={BlurredObject} alt=\"blurred\" style={{ width: \"100%\" }} />\n          )}\n          {letterContent.audioUrl ? (\n            <React.Fragment>\n              <br />\n              {sent === 1 || setIsPreview ? (\n                <ReactAudioPlayer src={letterContent.audioUrl} controls />\n              ) : (\n                <div className=\"body textMain blurred\">[ Hidden for now ]</div>\n              )}\n              <br />\n            </React.Fragment>\n          ) : null}\n\n          <br />\n          <div className=\"body textMain\" style={{ textAlign: \"right\" }}>\n            Sincerely, <br />{\" \"}\n            {letterContent.author ? letterContent.author : \"Anonymous\"}\n          </div>\n          <br />\n          {letterContent.sticker && (\n            <div style={{ display: \"flex\" }}>\n              {letterContent.sticker.map((sticker) => (\n                <span style={{ margin: \"auto\" }} key={sticker}>\n                  <img\n                    src={sticker}\n                    alt=\"sticker\"\n                    width={Math.min(\n                      150,\n                      (width - 56 - letterContent.sticker.length * 20) /\n                        letterContent.sticker.length\n                    )}\n                    className={styles.placedSticker}\n                    style={{ transform: `rotate(${randNum(-5, 5)}deg)` }}\n                  />\n                </span>\n              ))}\n            </div>\n          )}\n        </div>\n      </PaperCard>\n      <div className=\"paperCard\">\n        {setIsPreview ? (\n          <button className=\"buttonMain buttonPrimary\" onClick={sendLetter}>\n            <div>Send YPost →</div>\n          </button>\n        ) : (\n          <Link to=\"/\" className=\"link\">\n            {sent !== 1 ? (\n              <div>You must send a YPost to unlock. Pay it forward!</div>\n            ) : null}\n            <button className=\"buttonMain buttonPrimary\">\n              {sent === 1\n                ? \"Send YPost to a Friend\"\n                : \"Send a YPost to Unlock →\"}\n            </button>\n          </Link>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Letter;\n","/Users/K.Z./Desktop/holiday2020/src/pages/write.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/demo.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/open.js",[],"/Users/K.Z./Desktop/holiday2020/src/redux/masterReducer.js",[],"/Users/K.Z./Desktop/holiday2020/src/components/footer.js",[],"/Users/K.Z./Desktop/holiday2020/src/components/papercard.js",["44","45"],{"ruleId":"46","severity":1,"message":"47","line":8,"column":8,"nodeType":"48","messageId":"49","endLine":8,"endColumn":13},{"ruleId":"46","severity":1,"message":"50","line":56,"column":10,"nodeType":"48","messageId":"49","endLine":56,"endColumn":22},{"ruleId":"46","severity":1,"message":"51","line":58,"column":9,"nodeType":"48","messageId":"49","endLine":58,"endColumn":17},{"ruleId":"46","severity":1,"message":"52","line":1,"column":17,"nodeType":"48","messageId":"49","endLine":1,"endColumn":25},{"ruleId":"46","severity":1,"message":"53","line":30,"column":9,"nodeType":"48","messageId":"49","endLine":30,"endColumn":20},{"ruleId":"54","severity":1,"message":"55","line":15,"column":39,"nodeType":"56","messageId":"57","endLine":15,"endColumn":40},{"ruleId":"54","severity":1,"message":"55","line":15,"column":57,"nodeType":"56","messageId":"57","endLine":15,"endColumn":58},"no-unused-vars","'Flake' is defined but never used.","Identifier","unusedVar","'errorMessage' is assigned a value but never used.","'validate' is assigned a value but never used.","'useState' is defined but never used.","'createdCard' is assigned a value but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat"]