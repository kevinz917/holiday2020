[{"/Users/K.Z./Desktop/holiday2020/src/pages/landing.js":"1","/Users/K.Z./Desktop/holiday2020/src/App.js":"2","/Users/K.Z./Desktop/holiday2020/src/components/letter.js":"3","/Users/K.Z./Desktop/holiday2020/src/pages/write.js":"4","/Users/K.Z./Desktop/holiday2020/src/pages/demo.js":"5","/Users/K.Z./Desktop/holiday2020/src/pages/open.js":"6","/Users/K.Z./Desktop/holiday2020/src/redux/masterReducer.js":"7","/Users/K.Z./Desktop/holiday2020/src/components/footer.js":"8","/Users/K.Z./Desktop/holiday2020/src/components/papercard.js":"9","/Users/K.Z./Desktop/holiday2020/src/util/api.js":"10","/Users/K.Z./Desktop/holiday2020/src/index.js":"11","/Users/K.Z./Desktop/holiday2020/src/components/nav/navigation.js":"12","/Users/K.Z./Desktop/holiday2020/src/pages/memories.js":"13","/Users/K.Z./Desktop/holiday2020/src/pages/test.js":"14","/Users/K.Z./Desktop/holiday2020/src/pages/notfound.js":"15"},{"size":5491,"mtime":1611494774593,"results":"16","hashOfConfig":"17"},{"size":1949,"mtime":1611495810932,"results":"18","hashOfConfig":"17"},{"size":6754,"mtime":1611493729488,"results":"19","hashOfConfig":"17"},{"size":7374,"mtime":1611493060561,"results":"20","hashOfConfig":"17"},{"size":1780,"mtime":1607662214784,"results":"21","hashOfConfig":"17"},{"size":2307,"mtime":1611493641267,"results":"22","hashOfConfig":"17"},{"size":632,"mtime":1611477259646,"results":"23","hashOfConfig":"17"},{"size":169,"mtime":1611483327190,"results":"24","hashOfConfig":"17"},{"size":875,"mtime":1611492745315,"results":"25","hashOfConfig":"17"},{"size":1972,"mtime":1611493328851,"results":"26","hashOfConfig":"17"},{"size":1085,"mtime":1611494248175,"results":"27","hashOfConfig":"17"},{"size":772,"mtime":1611495861831,"results":"28","hashOfConfig":"17"},{"size":1874,"mtime":1609338646284,"results":"29","hashOfConfig":"17"},{"size":919,"mtime":1609338646285,"results":"30","hashOfConfig":"17"},{"size":246,"mtime":1611495845170,"results":"31","hashOfConfig":"17"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"34"},"1b30y0l",{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"37","messages":"38","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"49","messages":"50","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"55"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/K.Z./Desktop/holiday2020/src/pages/landing.js",["64","65","66"],"import React, { useState, useEffect } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { fetchStudents, fetchCount } from \"../util/api\";\nimport { SET_VAL } from \"../redux/masterReducer\";\nimport { Link } from \"react-router-dom\";\nimport Stamp from \"../assets/stamp.svg\";\nimport AsyncSelect from \"react-select/async\";\nimport Flake from \"../assets/flake.svg\";\nimport { sendAmplitudeData } from \"../util/amplitude\";\nimport styles from \"./landing.module.css\";\nimport { Base } from \"../util/base\";\n\nimport \"../styles/color.css\";\nimport \"../styles/layout.css\";\nimport \"../styles/typography.css\";\nimport \"../styles/animation.css\";\n\nconst delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\nconst Landing = (props) => {\n  const dispatch = useDispatch();\n  const [letter_count, setLetterCount] = useState(-1);\n  const [loadingState, setLoadingState] = useState(0);\n  const stateVal = useSelector((state) => state.state);\n\n  // On mount\n  useEffect(() => {\n    const onMount = async () => {\n      dispatch(SET_VAL(\"isLoading\", true));\n      sendAmplitudeData(\"Visited home page\");\n      setLoadingState(0);\n\n      // fetch list of all students\n      if (stateVal.auth) {\n        let studentList = await fetchStudents();\n        dispatch(SET_VAL(\"studentList\", studentList));\n      }\n      if (localStorage.getItem(\"sent\") === null) {\n        localStorage.setItem(\"sent\", 0);\n      }\n      if (localStorage.getItem(\"letters\") === null) {\n        localStorage.setItem(\"letters\", JSON.stringify([]));\n      }\n      setLoadingState(1);\n      await delay(800);\n      dispatch(SET_VAL(\"isLoading\", false));\n      setLoadingState(2);\n      const letterCount = await fetchCount();\n      if (letterCount && letterCount.data) {\n        setLetterCount(letterCount.data.count);\n      }\n    };\n    if (stateVal.auth !== -1) onMount();\n  }, [dispatch, stateVal.auth]);\n\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  const validate = (e) => {\n    if (stateVal.email.length === 0) {\n      setErrorMessage(\"Email can't be empty!\");\n    } else if (!stateVal.email.includes(\"@\")) {\n      setErrorMessage(\"Please enter a valid email address!\");\n    } else {\n      sendAmplitudeData(\"Selected contact\");\n      props.history.push(\"/write\");\n    }\n  };\n\n  const filterStudents = (inputValue) => {\n    return stateVal.studentList.filter((i) =>\n      i.label.toLowerCase().includes(inputValue.toLowerCase())\n    );\n  };\n\n  const loadOptions = (inputValue, callback) => {\n    setTimeout(() => {\n      callback(filterStudents(inputValue));\n    }, 1000);\n  };\n\n  const onInputChange = (e) => {\n    dispatch(SET_VAL(\"email\", e ? e.value : \"\"));\n    dispatch(SET_VAL(\"selectedStudent\", e ? e.label : \"\"));\n  };\n\n  // console.log(stateVal.netid);\n  return loadingState === 0 ? null : loadingState === 1 ? null : (\n    <div className=\"paperCardContainer\">\n      <div className=\"paperCard\">\n        <div className=\"horizontalInbetween\">\n          <div className=\"h1 textMain\">YPost</div>\n          <img\n            src={Stamp}\n            alt=\"logo\"\n            style={{ transform: \"rotate(20deg)\", width: \"75px\" }}\n          />\n        </div>\n        <br />\n        <div className=\"body textMain\">\n          Send simple and delightful cards to your teammates. Show your\n          gratitude and build a better team, together ~\n        </div>\n        <br />\n        <br />\n        <div className={styles.letter_cnt_container + \" body textMain fade-in\"}>\n          {letter_count === -1 ? (\n            <span className={styles.letter_cnt_label}>Loading...</span>\n          ) : (\n            <div className=\"fade-in\">\n              <span className={styles.letter_cnt_label}>\n                Total YPosts Sent:{\" \"}\n              </span>\n              <span className={styles.letter_cnt_val}>{letter_count}</span>\n            </div>\n          )}\n        </div>\n        <br />\n        {stateVal.auth && stateVal.auth !== -1 && (\n          <React.Fragment>\n            <AsyncSelect\n              loadOptions={loadOptions}\n              placeholder=\"Type in recipient name\"\n              autoFocus\n              onChange={onInputChange}\n              isClearable={true}\n              value={\n                stateVal.email\n                  ? {\n                      value: stateVal.email,\n                      label: stateVal.selectedStudent,\n                    }\n                  : null\n              }\n            />\n            <Link to=\"/write\">\n              <button className=\"buttonMain buttonPrimary\">\n                <div>Send a note</div>\n              </button>\n            </Link>\n            <Link to={`/user/${stateVal.auth.studentId}`}>\n              <button className=\"buttonMain buttonPrimary\">\n                <div>View your cards </div>\n              </button>\n            </Link>\n          </React.Fragment>\n        )}\n        {!stateVal.auth && (\n          <button\n            className=\"buttonMain buttonRecord\"\n            onClick={() => {\n              window.location.href = `${Base}/auth/cas`;\n            }}\n          >\n            Login with CAS\n          </button>\n        )}\n      </div>\n      <br />\n\n      <div className=\"report-container\">\n        To report a problem or share a thought, talk to us{\" \"}\n        <a\n          href=\"mailto: founders@ypost.app\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"hyperlink italic\"\n        >\n          here\n        </a>\n        .\n      </div>\n    </div>\n  );\n};\n\nexport default Landing;\n","/Users/K.Z./Desktop/holiday2020/src/App.js",["67"],"/Users/K.Z./Desktop/holiday2020/src/components/letter.js",["68","69"],"/Users/K.Z./Desktop/holiday2020/src/pages/write.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/demo.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/open.js",[],"/Users/K.Z./Desktop/holiday2020/src/redux/masterReducer.js",[],"/Users/K.Z./Desktop/holiday2020/src/components/footer.js",[],"/Users/K.Z./Desktop/holiday2020/src/components/papercard.js",["70","71","72"],"/Users/K.Z./Desktop/holiday2020/src/util/api.js",[],"/Users/K.Z./Desktop/holiday2020/src/index.js",[],["73","74"],"/Users/K.Z./Desktop/holiday2020/src/components/nav/navigation.js",["75","76","77","78","79"],"/Users/K.Z./Desktop/holiday2020/src/pages/memories.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/test.js",[],"/Users/K.Z./Desktop/holiday2020/src/pages/notfound.js",[],{"ruleId":"80","severity":1,"message":"81","line":8,"column":8,"nodeType":"82","messageId":"83","endLine":8,"endColumn":13},{"ruleId":"80","severity":1,"message":"84","line":56,"column":10,"nodeType":"82","messageId":"83","endLine":56,"endColumn":22},{"ruleId":"80","severity":1,"message":"85","line":58,"column":9,"nodeType":"82","messageId":"83","endLine":58,"endColumn":17},{"ruleId":"80","severity":1,"message":"86","line":1,"column":17,"nodeType":"82","messageId":"83","endLine":1,"endColumn":25},{"ruleId":"80","severity":1,"message":"87","line":30,"column":9,"nodeType":"82","messageId":"83","endLine":30,"endColumn":20},{"ruleId":"80","severity":1,"message":"88","line":69,"column":9,"nodeType":"82","messageId":"83","endLine":69,"endColumn":21},{"ruleId":"80","severity":1,"message":"89","line":1,"column":17,"nodeType":"82","messageId":"83","endLine":1,"endColumn":26},{"ruleId":"90","severity":1,"message":"91","line":13,"column":37,"nodeType":"92","messageId":"93","endLine":13,"endColumn":38},{"ruleId":"90","severity":1,"message":"91","line":13,"column":55,"nodeType":"92","messageId":"93","endLine":13,"endColumn":56},{"ruleId":"94","replacedBy":"95"},{"ruleId":"96","replacedBy":"97"},{"ruleId":"80","severity":1,"message":"98","line":2,"column":10,"nodeType":"82","messageId":"83","endLine":2,"endColumn":16},{"ruleId":"80","severity":1,"message":"99","line":2,"column":18,"nodeType":"82","messageId":"83","endLine":2,"endColumn":22},{"ruleId":"80","severity":1,"message":"100","line":2,"column":24,"nodeType":"82","messageId":"83","endLine":2,"endColumn":27},{"ruleId":"80","severity":1,"message":"101","line":2,"column":29,"nodeType":"82","messageId":"83","endLine":2,"endColumn":40},{"ruleId":"80","severity":1,"message":"102","line":2,"column":42,"nodeType":"82","messageId":"83","endLine":2,"endColumn":48},"no-unused-vars","'Flake' is defined but never used.","Identifier","unusedVar","'errorMessage' is assigned a value but never used.","'validate' is assigned a value but never used.","'useState' is defined but never used.","'createdCard' is assigned a value but never used.","'handleSelect' is assigned a value but never used.","'useEffect' is defined but never used.","no-useless-concat","Unexpected string concatenation of literals.","BinaryExpression","unexpectedConcat","no-native-reassign",["103"],"no-negated-in-lhs",["104"],"'Navbar' is defined but never used.","'Form' is defined but never used.","'Nav' is defined but never used.","'FormControl' is defined but never used.","'Button' is defined but never used.","no-global-assign","no-unsafe-negation"]